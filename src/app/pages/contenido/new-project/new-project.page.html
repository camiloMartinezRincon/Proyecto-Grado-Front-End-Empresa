<app-header title="Nuevo Proyecto"></app-header>

<ion-content>
  <form [formGroup]="newProjForm">
    <ion-item>
      <ion-label position="floating" color="primary"> Nombre del Cliente </ion-label>
      <ion-input formControlName="clientName" type="text" placeholder="Nombre del Cliente" required></ion-input>
    </ion-item>
    <div id="nameErrorMessage" *ngIf="newProjForm.controls['clientName'].invalid && (newProjForm.controls['clientName'].dirty || newProjForm.controls['clientName'].touched)">
      <span class="error ion-padding" *ngIf="newProjForm.controls['clientName'].errors.required"> Nombre obligatorio </span>
    </div>

    <ion-item>
      <ion-label position="floating" color="primary"> Correo del cliente </ion-label>
      <ion-input formControlName="clientMail" type="text" placeholder="Correo del cliente" required></ion-input>
    </ion-item>
    <div id="mailErrorMessage" *ngIf="newProjForm.controls['clientMail'].invalid && (newProjForm.controls['clientMail'].dirty || newProjForm.controls['clientMail'].touched)">
      <span class="error ion-padding" *ngIf="newProjForm.controls['clientMail'].errors.required"> Correo del cliente obligatorio </span>
      <span class="error ion-padding" *ngIf="newProjForm.controls['clientMail'].errors.pattern"> Formato incorrecto </span>
    </div>

    <ion-item>
      <ion-label position="floating" color="primary"> ID del Proyecto </ion-label>
      <ion-input formControlName="projID" type="text" placeholder="ID del Proyecto" required></ion-input>
    </ion-item>
    <div id="idErrorMessage" *ngIf="newProjForm.controls['projID'].invalid && (newProjForm.controls['projID'].dirty || newProjForm.controls['projID'].touched)">
      <span class="error ion-padding" *ngIf="newProjForm.controls['projID'].errors.required"> ID obligatorio </span>
      <span class="error ion-padding" *ngIf="newProjForm.controls['projID'].errors.maxLength"> Debe tener 4 caracteres </span>
    </div>

    <ion-item>
      <ion-label position="floating" color="primary"> Descripci√≥n del proyecto </ion-label>
      <ion-textarea formControlName="txtAreaDescription" placeholder="Describe tus necesidades" required></ion-textarea>
    </ion-item>
    <div id="descriptionErrorMessage" *ngIf="newProjForm.controls['txtAreaDescription'].invalid && (newProjForm.controls['txtAreaDescription'].dirty || newProjForm.controls['txtAreaDescription'].touched)">
      <span class="error ion-padding" *ngIf="newProjForm.controls['txtAreaDescription'].errors.required"> La descripcion es obligatoria </span>
    </div>

    <ion-item>
      <ion-label position="floating" color="primary"> Fecha de inicio del proyecto </ion-label>
      <ion-datetime formControlName="startDate" display-format="DD-MM-YYYY" requiered></ion-datetime>
    </ion-item>
    <div id="startDateErrorMessage" *ngIf="newProjForm.controls['startDate'].invalid && (newProjForm.controls['startDate'].dirty || newProjForm.controls['startDate'].touched)">
      <span class="error ion-padding" *ngIf="newProjForm.controls['startDate'].errors.required"> La fecha es obligatoria </span>
    </div>

    <ion-item>
      <ion-label position="floating" color="primary"> Fecha estimada de entrega </ion-label>
      <ion-datetime formControlName="endDate" display-format="DD-MM-YYYY" requiered></ion-datetime>
    </ion-item>
    <div id="endDateErrorMessage" *ngIf="newProjForm.controls['endDate'].invalid && (newProjForm.controls['endDate'].dirty || newProjForm.controls['endDate'].touched)">
      <span class="error ion-padding" *ngIf="newProjForm.controls['endDate'].errors.required"> La fecha es obligatoria </span>
    </div>

    <ion-grid class="ion-padding">
      <ion-row>
        <ion-col>
          <ion-button expand="block" fill="outline" color="primary" shape="round" type="submit" (click)="crearNuevoProyecto()"> Crear </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
